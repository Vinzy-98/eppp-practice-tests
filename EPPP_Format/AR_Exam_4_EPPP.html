<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        // Check authentication before loading page
        if (!sessionStorage.getItem('eppp_authenticated')) {
            window.location.href = '../login.html';
        }
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Exam 4 - EPPP Format - EPPP Format</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        
        /* Header with timer */
        .exam-header {
            background: #2c3e50;
            color: white;
            padding: 15px 30px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .exam-title {
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .timer {
            font-size: 1.5em;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            padding: 8px 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
        }
        
        .timer.warning {
            background: #e74c3c;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Main content area */
        .exam-container {
            display: flex;
            margin-top: 70px;
            height: calc(100vh - 70px);
        }
        
        /* Left sidebar - Question navigator */
        .question-navigator {
            width: 250px;
            background: white;
            border-right: 2px solid #ddd;
            overflow-y: auto;
            padding: 20px;
        }
        
        .nav-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.1em;
        }
        
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .nav-btn {
            aspect-ratio: 1;
            border: 2px solid #ddd;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }
        
        .nav-btn:hover {
            border-color: #3498db;
            transform: scale(1.05);
        }
        
        .nav-btn.answered {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }
        
        .nav-btn.marked {
            background: #f39c12;
            color: white;
            border-color: #f39c12;
        }
        
        .nav-btn.current {
            border: 3px solid #2c3e50;
            box-shadow: 0 0 0 2px #3498db;
        }
        
        .nav-legend {
            margin-top: 20px;
            font-size: 0.9em;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
        }
        
        .legend-box {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 10px;
            border: 2px solid #ddd;
        }
        
        .legend-box.answered {
            background: #3498db;
            border-color: #3498db;
        }
        
        .legend-box.marked {
            background: #f39c12;
            border-color: #f39c12;
        }
        
        /* Question display area */
        .question-area {
            flex: 1;
            background: white;
            padding: 40px;
            overflow-y: auto;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .question-number {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .mark-review-btn {
            background: #f39c12;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .mark-review-btn:hover {
            background: #e67e22;
        }
        
        .mark-review-btn.marked {
            background: #95a5a6;
        }
        
        .question-text {
            font-size: 1.1em;
            line-height: 1.8;
            margin: 25px 0;
        }
        
        .choices {
            margin: 20px 0;
        }
        
        .choice {
            margin: 15px 0;
            padding: 15px;
            background: #f9f9f9;
            border: 2px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .choice:hover {
            border-color: #3498db;
            background: #f0f8ff;
        }
        
        .choice.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .choice input[type="radio"] {
            margin-right: 12px;
            cursor: pointer;
            transform: scale(1.2);
        }
        
        .choice label {
            cursor: pointer;
            display: inline;
            font-size: 1.05em;
        }
        
        /* Navigation buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
        }
        
        .nav-buttons button {
            padding: 12px 30px;
            font-size: 1em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .btn-prev {
            background: #95a5a6;
            color: white;
        }
        
        .btn-prev:hover:not(:disabled) {
            background: #7f8c8d;
        }
        
        .btn-next {
            background: #3498db;
            color: white;
        }
        
        .btn-next:hover {
            background: #2980b9;
        }
        
        .btn-review {
            background: #27ae60;
            color: white;
        }
        
        .btn-review:hover {
            background: #229954;
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Review screen */
        .review-screen {
            display: none;
            padding: 40px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .review-screen.active {
            display: block;
        }
        
        .review-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .review-header h2 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .review-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-label {
            color: #7f8c8d;
        }
        
        .stat-card.answered .stat-number {
            color: #3498db;
        }
        
        .stat-card.unanswered .stat-number {
            color: #e74c3c;
        }
        
        .stat-card.marked .stat-number {
            color: #f39c12;
        }
        
        .review-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .review-actions button {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-back {
            background: #95a5a6;
            color: white;
        }
        
        .btn-submit {
            background: #27ae60;
            color: white;
        }
        
        /* Results screen */
        .results-screen {
            display: none;
            padding: 40px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .results-screen.active {
            display: block;
        }
        
        .results-header {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .score-display {
            font-size: 4em;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .results-breakdown {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .download-actions {
            text-align: center;
            margin-top: 30px;
        }
        
        .download-actions button {
            padding: 15px 40px;
            font-size: 1.1em;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin: 0 10px;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 10px;
            max-width: 500px;
            text-align: center;
        }
        
        .modal-content h3 {
            color: #e74c3c;
            margin-bottom: 20px;
        }
        
        .modal-buttons {
            margin-top: 30px;
        }
        
        .modal-buttons button {
            padding: 12px 30px;
            margin: 0 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
        }
        
        .btn-cancel {
            background: #95a5a6;
            color: white;
        }
        
        .btn-confirm {
            background: #e74c3c;
            color: white;
        }
    
        /* USER DASHBOARD STYLES */
        .user-panel {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }
        
        .user-details h3 {
            margin: 0;
            font-size: 1.1em;
            color: #2c3e50;
        }
        
        .user-details p {
            margin: 0;
            font-size: 0.9em;
            color: #7f8c8d;
        }
        
        .dashboard-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: transform 0.2s;
        }
        
        .dashboard-btn:hover {
            transform: translateY(-2px);
        }
        
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #7f8c8d;
        }
        
        .user-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .user-form input {
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 1em;
        }
        
        .user-form button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
        }
        
        .attempt-badge {
            background: #e8f4f8;
            color: #2c3e50;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Header with Timer -->
    <div class="exam-header">
        <div class="exam-title">AR Exam 4 - EPPP Format</div>
        <div class="timer" id="timer">123:00</div>
    </div>
    
    <!-- Main Exam Container -->
    <div class="exam-container" id="examContainer">
        <!-- Question Navigator -->
        <div class="question-navigator">
            <div class="nav-title">Questions</div>
            <div class="nav-grid" id="navGrid">
                <!-- Generated by JavaScript -->
            </div>
            <div class="nav-legend">
                <div class="legend-item">
                    <div class="legend-box answered"></div>
                    <span>Answered</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box marked"></div>
                    <span>Marked for Review</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box"></div>
                    <span>Not Answered</span>
                </div>
            </div>
        </div>
        
        <!-- Question Display Area -->
        <div class="question-area">
            <div class="question-header">
                <div class="question-number" id="questionNumber">Question 1 of 109</div>
                <button class="mark-review-btn" id="markBtn" onclick="toggleMark()">
                    ⭐ Mark for Review
                </button>
            </div>
            
            <div class="question-text" id="questionText"></div>
            
            <div class="choices" id="choicesContainer"></div>
            
            <div class="nav-buttons">
                <button class="btn-prev" id="prevBtn" onclick="previousQuestion()" disabled>
                    ← Previous
                </button>
                <button class="btn-review" onclick="showReview()">
                    Review Answers
                </button>
                <button class="btn-next" id="nextBtn" onclick="nextQuestion()">
                    Next →
                </button>
            </div>
        </div>
    </div>
    
    <!-- Review Screen -->
    <div class="review-screen" id="reviewScreen">
        <div class="review-header">
            <h2>Review Your Answers</h2>
            <p>Check your answers before submitting the exam</p>
        </div>
        
        <div class="review-stats">
            <div class="stat-card answered">
                <div class="stat-label">Answered</div>
                <div class="stat-number" id="answeredCount">0</div>
            </div>
            <div class="stat-card unanswered">
                <div class="stat-label">Not Answered</div>
                <div class="stat-number" id="unansweredCount">0</div>
            </div>
            <div class="stat-card marked">
                <div class="stat-label">Marked for Review</div>
                <div class="stat-number" id="markedCount">0</div>
            </div>
        </div>
        
        <div class="nav-grid" id="reviewGrid">
            <!-- Generated by JavaScript -->
        </div>
        
        <div class="review-actions">
            <button class="btn-back" onclick="closeReview()">← Back to Exam</button>
            <button class="btn-submit" onclick="confirmSubmit()">Submit Exam</button>
        </div>
    </div>
    
    <!-- Results Screen -->
    <div class="results-screen" id="resultsScreen">
        <!-- Generated by JavaScript after submission -->
    </div>
    
    <!-- Confirmation Modal -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <h3>⚠️ Submit Exam?</h3>
            <p>Are you sure you want to submit your exam?</p>
            <p id="unansweredWarning"></p>
            <p style="margin-top: 15px; color: #e74c3c; font-weight: bold;">
                You cannot change your answers after submission.
            </p>
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeModal()">Cancel</button>
                <button class="btn-confirm" onclick="submitExam()">Submit Exam</button>
            </div>
        </div>
    </div>
    
    <!-- Time Warning Modal -->
    <div class="modal" id="timeWarningModal">
        <div class="modal-content">
            <h3>⏰ Time Warning</h3>
            <p id="timeWarningText"></p>
            <div class="modal-buttons">
                <button class="btn-confirm" onclick="closeTimeWarning()">OK</button>
            </div>
        </div>
    </div>
    
    <script>
        // Question data
        const questions = [{"number": 1, "question": "A condition necessary for pooled variance is:", "choices": [{"letter": "A", "text": "unequal sample sizes"}, {"letter": "B", "text": "equal sample sizes"}, {"letter": "C", "text": "unequal covariances"}, {"letter": "D", "text": "equal covariances"}], "correct_answer": "B"}, {"number": 96, "question": "Justification for the use of a selection procedure or battery in a new setting without conducting a local validation research study is referred to as:", "choices": [{"letter": "A", "text": "synthetic validity."}, {"letter": "B", "text": "validity generalization."}, {"letter": "C", "text": "transportability."}, {"letter": "D", "text": "meta-analysis."}], "correct_answer": "B"}, {"number": 98, "question": "Which areas of the brain have been most consistently linked to Obsessive-Compulsive Disorder, Tourette Syndrome, and Autistic Disorder?", "choices": [{"letter": "A", "text": "thalamus and parietal lobes"}, {"letter": "B", "text": "parietal lobes and amygdala"}, {"letter": "C", "text": "thalamus and frontal lobes"}, {"letter": "D", "text": "frontal lobes and basal ganglia"}], "correct_answer": "D"}, {"number": 99, "question": "Abrupt cessation of chronic alcohol use typically results in which of the following symptoms?", "choices": [{"letter": "A", "text": "depression, lethargy, and hypersomnia"}, {"letter": "B", "text": "irritability, decreased heart rate, and increased appetite"}, {"letter": "C", "text": "nausea, diarrhea, and fever"}, {"letter": "D", "text": "autonomic hyperactivity, insomnia, and nausea"}], "correct_answer": "D"}, {"number": 100, "question": "A \"script\" in social psychology is:", "choices": [{"letter": "A", "text": "any verbal communication used to express emotions"}, {"letter": "B", "text": "the primary cause of the actor-observer effect"}, {"letter": "C", "text": "a set of cognitive distortions"}, {"letter": "D", "text": "a representation of a stereotyped sequence of actions"}], "correct_answer": "D"}, {"number": 101, "question": "Which of the following item difficulty levels maximizes discrimination among test-takers?", "choices": [{"letter": "A", "text": ".10"}, {"letter": "B", "text": ".25"}, {"letter": "C", "text": ".50"}, {"letter": "D", "text": ".90"}], "correct_answer": "C"}, {"number": 102, "question": "Classical Adlerian psychotherapy:", "choices": [{"letter": "A", "text": "provides six stages as a systematic procedure"}, {"letter": "B", "text": "provides twelve phases as a teaching guideline"}, {"letter": "C", "text": "is a progression through twelve stages"}, {"letter": "D", "text": "is a creatively practiced art without stages"}], "correct_answer": "C"}, {"number": 103, "question": "Which of the following statements is true regarding the treatment of diabetes for adolescents and children?", "choices": [{"letter": "A", "text": "Adolescents are more likely than children to show noncompliance with the prescribed treatment regimen."}, {"letter": "B", "text": "Children are more likely than adolescents to show noncompliance with the prescribed treatment regimen."}, {"letter": "C", "text": "Adolescents and children are equally likely to show noncompliance with the prescribed treatment regimen."}, {"letter": "D", "text": "Both children and adolescents are likely to have little or no problems with the prescribed treatment regimen."}], "correct_answer": "A"}, {"number": 104, "question": "Recent research on retirement indicates which of the following is most predictive of retirement satisfaction?", "choices": [{"letter": "A", "text": "participation in activities"}, {"letter": "B", "text": "reliable social support"}, {"letter": "C", "text": "marital status"}, {"letter": "D", "text": "good physical health"}], "correct_answer": "A"}, {"number": 105, "question": "According to behavioral theory, depression is generally considered to result from:", "choices": [{"letter": "A", "text": "negative punishment"}, {"letter": "B", "text": "noncontingent punishment"}, {"letter": "C", "text": "prolonged extinction"}, {"letter": "D", "text": "having to make finer and finer stimulus discriminations"}], "correct_answer": "C"}, {"number": 106, "question": "When a person misremembers seeing an event personally when it was actually seen on television, this is an example of:", "choices": [{"letter": "A", "text": "source confusion"}, {"letter": "B", "text": "blocking"}, {"letter": "C", "text": "false recall"}, {"letter": "D", "text": "cryptomnesia"}], "correct_answer": "A"}, {"number": 107, "question": "Personal reality and common reality were defined by:", "choices": [{"letter": "A", "text": "Ginzberg’s Stages of Career Development"}, {"letter": "B", "text": "Super’s Career and Life Development"}, {"letter": "C", "text": "Miller-Tiedeman and Tiedeman’s Decision Making Model"}, {"letter": "D", "text": "Gottfredson’s Theory of Career Development"}], "correct_answer": "C"}, {"number": 108, "question": "Chronic alcoholism may cause cognitive impairments. Specifically, following prolonged, heavy drinking, a person is most likely to exhibit:", "choices": [{"letter": "A", "text": "greater deficits in visuospatial skills than in verbal skills."}, {"letter": "B", "text": "greater deficits in verbal skills than in visuospatial skills."}, {"letter": "C", "text": "a comparable pattern of deficits in visuospatial and verbal skills."}, {"letter": "D", "text": "deficits in either visuospatial or verbal skills, depending on whether the person is left- or right-brain dominant."}], "correct_answer": "A"}, {"number": 109, "question": "Which of the following would most likely be utilized by a therapist whose work is based on Minuchin’s structural family therapy?", "choices": [{"letter": "A", "text": "giving homework, enactment, making a family map"}, {"letter": "B", "text": "taking a family history, issuing paradoxical directives, tracking"}, {"letter": "C", "text": "taking a family history, joining the family, making a genogram"}, {"letter": "D", "text": "reframing, issuing paradoxical directives, exploring multigenerational transmission processes"}], "correct_answer": "A"}, {"number": 110, "question": "Of the following, which risk factor for childhood depression is the most prominent?", "choices": [{"letter": "A", "text": "substance use in parents."}, {"letter": "B", "text": "comorbid disorder such as ADHD."}, {"letter": "C", "text": "a parent with a depressive disorder."}, {"letter": "D", "text": "low socioeconomic status"}], "correct_answer": "C"}, {"number": 111, "question": "Conformity involves adhering to implicit group norms, whereas compliance occurs when people agree to explicit requests to do something. According to the literature, all of the following increase compliance except:", "choices": [{"letter": "A", "text": "“door-in-the-face” technique"}, {"letter": "B", "text": "“foot-in-the-door” method"}, {"letter": "C", "text": "psychological reactance"}, {"letter": "D", "text": "low-balling"}], "correct_answer": "C"}, {"number": 112, "question": "A child diagnosed with Attention -Deficit/Hyperactivity Disorder is most likely to also be diagnosed with:", "choices": [{"letter": "A", "text": "Tourette's Disorder"}, {"letter": "B", "text": "Conduct Disorder"}, {"letter": "C", "text": "Enuresis"}, {"letter": "D", "text": "Obsessive-Compulsive Disorder"}], "correct_answer": "B"}, {"number": 113, "question": "Introducing a goal that requires cooperation between conflicting intergroups results in:", "choices": [{"letter": "A", "text": "increased hositility, increased competition"}, {"letter": "B", "text": "increased hostility, reduced competition"}, {"letter": "C", "text": "reduced hositility, increased competition"}, {"letter": "D", "text": "reduced hostility, reduced competition"}], "correct_answer": "D"}, {"number": 114, "question": "In research, a psychologist can terminate the life of an animal:", "choices": [{"letter": "A", "text": "under no circumstances"}, {"letter": "B", "text": "as long as the animal is treated humanely"}, {"letter": "C", "text": "as long as an anesthetic is used, with an effort to minimize pain"}, {"letter": "D", "text": "when it is appropriate and if it is done rapidly, with an effort to minimize pain"}], "correct_answer": "D"}, {"number": 115, "question": "What percentage of left-handed individuals are likely to be left-hemisphere language dominant?", "choices": [{"letter": "A", "text": "5-15%"}, {"letter": "B", "text": "15-30%"}, {"letter": "C", "text": "35-50%"}, {"letter": "D", "text": "60-75%"}], "correct_answer": "D"}, {"number": 116, "question": "A difference between the brief dynamic therapies and crisis intervention is:", "choices": [{"letter": "A", "text": "brief dynamic therapies focuses on specific symptoms"}, {"letter": "B", "text": "crisis intervention focuses on specific symptoms"}, {"letter": "C", "text": "crisis intervention views the patient’s symptoms as pathological"}, {"letter": "D", "text": "brief dynamic therapies views the patient’s symptoms as pathological"}], "correct_answer": "D"}, {"number": 117, "question": "The most common type of work-family conflict is:", "choices": [{"letter": "A", "text": "time-based"}, {"letter": "B", "text": "strain-based"}, {"letter": "C", "text": "behaviorally-based"}, {"letter": "D", "text": "systemically-based"}], "correct_answer": "A"}, {"number": 118, "question": "Generalized tonic-clonic seizures are associated with", "choices": [{"letter": "A", "text": "grand mal epilepsy."}, {"letter": "B", "text": "petit mal epilepsy."}, {"letter": "C", "text": "Jacksonian epilepsy."}, {"letter": "D", "text": "temporal lobe epilepsy."}], "correct_answer": "A"}, {"number": 119, "question": "Which of the following statements regarding suicidal behavior in adolescents as a function of racial or ethnic group is correct?", "choices": [{"letter": "A", "text": "The incidence of suicide attempts and deaths is highest for African-American adolescents as compared to adolescents in other racial/ethnic groups."}, {"letter": "B", "text": "The incidence of suicide attempts and deaths is highest for American Indian adolescents as compared to adolescents in other racial/ethnic groups."}, {"letter": "C", "text": "The incidence of suicide attempts is highest for American Indian adolescents; the incidence of suicide deaths is highest for African-American adolescents."}, {"letter": "D", "text": "The incidence of suicide attempts is highest for African-American adolescents; the incidence of suicide deaths is highest for African-American adolescents."}], "correct_answer": "B"}, {"number": 120, "question": "Research on the cognitive affects of chemotherapy and radiation on children with cancer indicate:", "choices": [{"letter": "A", "text": "cognitive abilities are affected only during the course of treatment with both radiation and chemotherapy."}, {"letter": "B", "text": "cognitive abilities are affected only during the course of treatment with radiation, whereas chemotherapy is associated with developing cognitive problems following treatment."}, {"letter": "C", "text": "young boys are at greater risk to have cognitive problems than girls."}, {"letter": "D", "text": "younger children are at greater risk for more problems and more severe problems than are older children."}], "correct_answer": "D"}, {"number": 121, "question": "Researchers are interested in detecting differential item functioning (DIF). Which method would not be used?", "choices": [{"letter": "A", "text": "SIBTEST"}, {"letter": "B", "text": "Mantel-Haenszel"}, {"letter": "C", "text": "Lord’s chi-square"}, {"letter": "D", "text": "cluster analysis"}], "correct_answer": "D"}, {"number": 122, "question": "Glutamate is a neurotransmitter associated with", "choices": [{"letter": "A", "text": "alcohol cravings."}, {"letter": "B", "text": "dietary changes."}, {"letter": "C", "text": "cognitive abilities which are correlated with alcohol use."}, {"letter": "D", "text": "social ability which is correlated with alcohol use."}], "correct_answer": "C"}, {"number": 123, "question": "An individual is most likely to show theta waves on an EEG recording during which of the following?", "choices": [{"letter": "A", "text": "lightly sleeping"}, {"letter": "B", "text": "lying in bed awake with eyes closed"}, {"letter": "C", "text": "conversing with someone"}, {"letter": "D", "text": "taking a test"}], "correct_answer": "A"}, {"number": 124, "question": "Which of the following is the best example of a precipitating cause?", "choices": [{"letter": "A", "text": "a father who is abusive to his children had abusive parents himself."}, {"letter": "B", "text": "a manic episode occurs shortly after the loss of a loved one."}, {"letter": "C", "text": "a husband enables his wife's alcoholism by making excuses for her."}, {"letter": "D", "text": "dementia with a gradual onset is caused by years of alcohol abuse."}], "correct_answer": "B"}, {"number": 125, "question": "Of the following, the best predictor of job success would likely be a", "choices": [{"letter": "A", "text": "general cognitive ability test."}, {"letter": "B", "text": "personality test."}, {"letter": "C", "text": "structured interview."}, {"letter": "D", "text": "vocational interest inventory."}], "correct_answer": "A"}, {"number": 126, "question": "The three types of appraisal suggested by Lazarus’s cognitive appraisal theory include:", "choices": [{"letter": "A", "text": "initial, intermediate and final."}, {"letter": "B", "text": "preconscious, unconscious and conscious."}, {"letter": "C", "text": "primary, secondary and reappraisal."}, {"letter": "D", "text": "semantic, phonemic and structural."}], "correct_answer": "C"}, {"number": 128, "question": "Which of the following is true regarding Klinefelter's Syndrome?", "choices": [{"letter": "A", "text": "It occurs only in males"}, {"letter": "B", "text": "It occurs only in females"}, {"letter": "C", "text": "It typically results in severe to profound mental retardation"}, {"letter": "D", "text": "Its symptoms are preventable with dietary restrictions"}], "correct_answer": "A"}, {"number": 129, "question": "There is some evidence that children of divorced parents have more academic problems than children from intact families and that", "choices": [{"letter": "A", "text": "girls of divorced families exhibit poorer academic performance than boys of divorced families."}, {"letter": "B", "text": "boys of divorced families exhibit poorer academic performance than girls of divorced families."}, {"letter": "C", "text": "the negative effects of divorce on academic performance are not moderated by gender."}, {"letter": "D", "text": "the negative effects of divorce on academic performance are observed in younger (but not older) children."}], "correct_answer": "B"}, {"number": 130, "question": "You have been attempting to collect payment from a former patient of yours who did not pay for his final two months of therapy. One day, you get a letter from a state hospital where that former patient is now currently a patient. The letter includes a request for a copy of your records of the patient's treatment along with a signed release of information. In this situation, you should", "choices": [{"letter": "A", "text": "refuse to supply any information to the hospital until the bill is paid."}, {"letter": "B", "text": "send a summary of the records to the hospital along with a copy of a bill for the unpaid therapy fees."}, {"letter": "C", "text": "go to the hospital and talk to the patient about the situation."}, {"letter": "D", "text": "provide the information requested by the hospital."}], "correct_answer": "D"}, {"number": 131, "question": "According to Kohlberg's theory, which of the following would be the best example of conventional morality?", "choices": [{"letter": "A", "text": "maximizing individual gains"}, {"letter": "B", "text": "support of social standards"}, {"letter": "C", "text": "behaving solely in line with one's own conscience"}, {"letter": "D", "text": "behaving in such a way as to avoid risk and cost to the individual"}], "correct_answer": "B"}, {"number": 132, "question": "A selection test that has a validity coefficient of .50 will have the greatest incremental validity when:", "choices": [{"letter": "A", "text": "the selection ratio is .95 and the base rate is .20"}, {"letter": "B", "text": "the selection ratio is .95 and the base rate is .50"}, {"letter": "C", "text": "the selection ratio is .05 and the base rate is .20"}, {"letter": "D", "text": "the selection ratio is .05 and the base rate is .50"}], "correct_answer": "D"}, {"number": 133, "question": "Possible causes of a Mood Disorder caused by a known organic factor such as a medical condition or substance use include:", "choices": [{"letter": "A", "text": "PCP use, cataracts, and ulcer"}, {"letter": "B", "text": "viral illness, hallucinogen use, and carcinoma of the pancreas"}, {"letter": "C", "text": "barbiturate use, hypothyroidism, and broken bones"}, {"letter": "D", "text": "hyperthyroidism, cerebral palsy, and arthritis"}], "correct_answer": "B"}, {"number": 134, "question": "In vivo exposure with response prevention involves:", "choices": [{"letter": "A", "text": "alternately presenting the CS and US."}, {"letter": "B", "text": "simultaneously presenting the CS and US."}, {"letter": "C", "text": "repeatedly presenting the US without the CS."}, {"letter": "D", "text": "repeatedly presenting the CS without the US."}], "correct_answer": "D"}, {"number": 135, "question": "Synesthesia is most readily thought of as a/an:", "choices": [{"letter": "A", "text": "physiological occurrence."}, {"letter": "B", "text": "manifestation of psychoses."}, {"letter": "C", "text": "learned occurrence."}, {"letter": "D", "text": "expression of imagination."}], "correct_answer": "A"}, {"number": 136, "question": "The two aspects of interactional justice are:", "choices": [{"letter": "A", "text": "environmental and social justice"}, {"letter": "B", "text": "interpersonal and environmental justice"}, {"letter": "C", "text": "informational and comparative justice"}, {"letter": "D", "text": "interpersonal and informational justice"}], "correct_answer": "D"}, {"number": 137, "question": "Studies on the heritability of intelligence has found a correlation among siblings of about:", "choices": [{"letter": "A", "text": "0.10"}, {"letter": "B", "text": "0.25"}, {"letter": "C", "text": "0.50"}, {"letter": "D", "text": "0.75"}], "correct_answer": "C"}, {"number": 138, "question": "Which of the following mediates the feelings of satisfaction that follow eating and sex, acting as a “satisfaction center”?", "choices": [{"letter": "A", "text": "basal ganglia"}, {"letter": "B", "text": "cingulate gyrus"}, {"letter": "C", "text": "reticular activating system"}, {"letter": "D", "text": "hippocampus"}], "correct_answer": "B"}, {"number": 139, "question": "On the WISC-III, \"freedom from distractibility\" is measured using which of the following subtests?", "choices": [{"letter": "A", "text": "Digit Span and Digit Symbol"}, {"letter": "B", "text": "Arithmetic and Digit Span"}, {"letter": "C", "text": "Picture Completion and Picture Arrangement"}, {"letter": "D", "text": "Coding and Arithmetic"}], "correct_answer": "B"}, {"number": 140, "question": "The behavioral technique known as flooding is based on the theoretical principle of", "choices": [{"letter": "A", "text": "reciprocal inhibition."}, {"letter": "B", "text": "covert desensitization."}, {"letter": "C", "text": "classical extinction."}, {"letter": "D", "text": "negative reinforcement."}], "correct_answer": "C"}, {"number": 141, "question": "Which of the following is the most likely indicator that a person is feigning a memory disorder?", "choices": [{"letter": "A", "text": "The person has lost memory of personal identity but his memory for most other past events is intact."}, {"letter": "B", "text": "The person's semantic memory is impaired but his procedural memory is intact."}, {"letter": "C", "text": "Verbal memory is intact but non-verbal memory is impaired."}, {"letter": "D", "text": "Memory for recent events in impaired but memory for remote events is intact."}], "correct_answer": "A"}, {"number": 142, "question": "Which of the following techniques is most similar to latent trait analysis (LTA)?", "choices": [{"letter": "A", "text": "cluster sampling"}, {"letter": "B", "text": "analysis of covariance"}, {"letter": "C", "text": "multitrait-multimethod matrix"}, {"letter": "D", "text": "latent class analysis"}], "correct_answer": "D"}, {"number": 143, "question": "The friend of a psychologist is the owner of a small publishing firm. The friend offers the psychologist substantial compensation if she would lend her name to endorsements for his publications, and at times advise and consult on book acquisitions and marketing plans. The psychologist:", "choices": [{"letter": "A", "text": "could accept this as long as APA affiliation is not mentioned in the endorsements."}, {"letter": "B", "text": "could accept this only if the publications she would be dealing with are in her area of competency."}, {"letter": "C", "text": "could accept this only if the publications she would be dealing with are in her area of competency, and the endorsements will be based on the psychologist's honest opinion of the publications."}, {"letter": "D", "text": "should consult the local ethics committee before making her decision."}], "correct_answer": "C"}, {"number": 144, "question": "Research on gender differences in judgments of sexual harassment indicate:", "choices": [{"letter": "A", "text": "men and women are equally as likely to judge a sexually-toned behavior as sexual harassment regardless of the severity of the behaviors."}, {"letter": "B", "text": "men and women are equally as likely to judge a sexually-toned behavior as sexual harassment but only in severe cases."}, {"letter": "C", "text": "men are more likely than women to judge a sexually-toned behavior as sexual harassment but only in severe cases."}, {"letter": "D", "text": "women are more likely than men to judge a sexually-toned behavior as sexual harassment regardless of the severity of the behaviors."}], "correct_answer": "B"}, {"number": 145, "question": "A man contacts a psychologist via e-mail, asking her to provide him with online therapy advising him about a decision that is weighing heavily on him. The man writes making decisions is often hard for him and he is trying to decide whether to quit his current job and accept an offer from a competing company. The man doesn’t want to reveal his name to the psychologist – he wants to keep his identity private. The psychologist should:", "choices": [{"letter": "A", "text": "let the man remain anonymous if he wants and provide him with online therapy"}, {"letter": "B", "text": "let the man know that before providing any online therapy to him, she has to have basic contact information in case of an emergency such as suicidality"}, {"letter": "C", "text": "let the man know that, by law, she has to have a face-to-face meeting with him before she can provide him with online therapy"}, {"letter": "D", "text": "let the man know that, by law, she has to know his name and some basic contact information before she can provide him with online therapy"}], "correct_answer": "A"}, {"number": 146, "question": "Recent studies investigating ethnicity and psychotropic medication dosage have found:", "choices": [{"letter": "A", "text": "Therapeutic and side effect differences are not related to race/ethnicity"}, {"letter": "B", "text": "Caucasians and Asians experience the same severity of side effects from the same dose, although Caucasians require lower doses to obtain the same therapeutic effects."}, {"letter": "C", "text": "Caucasians experience more severe side effects from the same dose than Asians and require lower doses to obtain the same therapeutic effects"}, {"letter": "D", "text": "Asians experience more severe side effects from the same dose and require lower doses to obtain the same therapeutic effects"}], "correct_answer": "D"}, {"number": 147, "question": "A psychologist works with a client who is a reputed organized crime boss. The psychologist suspects that that the client has been and will be involved with acts of violence, but the client does not mention the name of any people he intends to harm. In this situation, the psychologist should", "choices": [{"letter": "A", "text": "maintain the client's confidentiality."}, {"letter": "B", "text": "warn the police of the danger to others posed by the client."}, {"letter": "C", "text": "attempt to obtain the name of future victims via indirect questioning."}, {"letter": "D", "text": "explore the childhood roots of the client's behavior."}], "correct_answer": "A"}, {"number": 148, "question": "As a measure of test reliability, an internal consistency coefficient would be least appropriate for a", "choices": [{"letter": "A", "text": "vocational aptitude test."}, {"letter": "B", "text": "intelligence test."}, {"letter": "C", "text": "power test."}, {"letter": "D", "text": "speed test."}], "correct_answer": "D"}, {"number": 149, "question": "Patrick was elated, in a meeting with senior management, when he was told that the company president was impressed with his recent contributions. After he left the meeting and was alone in his office, however, Patrick started to experience feelings of anger. Which of the following best explains Patrick’s circumstances?", "choices": [{"letter": "A", "text": "Model of Facet Satisfaction"}, {"letter": "B", "text": "Opponent Process Theory"}, {"letter": "C", "text": "The Vitamin Model"}, {"letter": "D", "text": "Job Dissatisfaction Theory"}], "correct_answer": "B"}, {"number": 150, "question": "Leader-Member Exchange Theory (LMX) emphasizes:", "choices": [{"letter": "A", "text": "the relationships a leader has with members can be divided into two groups referred to as the “in-group” and the “out-group.”"}, {"letter": "B", "text": "adhering to formal organizational expectations yields increased access and opportunity"}, {"letter": "C", "text": "principles of fairness in members achieving a quality relationship with a leader"}, {"letter": "D", "text": "leaders and members use exchanges to achieve mutually beneficial outcomes"}], "correct_answer": "A"}, {"number": 151, "question": "A reason why the rational-economic model of decision-making usually does not prove viable in an organization is that", "choices": [{"letter": "A", "text": "it allows for the consideration of a limited number of options."}, {"letter": "B", "text": "it places too many demands on the individual and the organization."}, {"letter": "C", "text": "it arouses resentment in organization members who are excluded from the decision-making process."}, {"letter": "D", "text": "humans are irrational and emotional by their nature."}], "correct_answer": "B"}, {"number": 152, "question": "The Solomon four-group design is:", "choices": [{"letter": "A", "text": "a quasi-experimental design"}, {"letter": "B", "text": "used to analyze the difference scores among four different treatment groups"}, {"letter": "C", "text": "used to reduce practice effects"}, {"letter": "D", "text": "used to evaluate the effects of pretesting"}], "correct_answer": "D"}, {"number": 153, "question": "In order to decrease job turnover, an interviewer should:", "choices": [{"letter": "A", "text": "Rely on biodata"}, {"letter": "B", "text": "Rely on cognitive testing"}, {"letter": "C", "text": "Hire only older people"}, {"letter": "D", "text": "Rely on an interest inventory"}], "correct_answer": "A"}, {"number": 154, "question": "An infant born prematurely is most likely to eventually develop:", "choices": [{"letter": "A", "text": "Poor social skills"}, {"letter": "B", "text": "Poor academic performance"}, {"letter": "C", "text": "Low adult body weight"}, {"letter": "D", "text": "None of the above"}], "correct_answer": "D"}, {"number": 155, "question": "The term \"primary erectile disorder\" would be applied to a man who", "choices": [{"letter": "A", "text": "has been able to maintain an erection adequate for sexual activity in the past but can no longer do so."}, {"letter": "B", "text": "is able to attain an erection while masturbating but not for sexual activity."}, {"letter": "C", "text": "is able to attain an erection while making love to his mistress but not while making love to his wife."}, {"letter": "D", "text": "has never been able to attain or maintain an erection adequate for any type of sexual activity."}], "correct_answer": "D"}, {"number": 156, "question": "Organizational psychologists would most likely use which of the following when talking to business leaders about implementing the use of psychological tests in selecting employees?", "choices": [{"letter": "A", "text": "utility analysis"}, {"letter": "B", "text": "utility evaluation"}, {"letter": "C", "text": "job analysis"}, {"letter": "D", "text": "job evaluation"}], "correct_answer": "A"}, {"number": 157, "question": "When minimum cutoff procedures are used in selection tests of standard cognitive abilities, one would expect, according to recent research", "choices": [{"letter": "A", "text": "no adverse impact on either majority or minority applicants."}, {"letter": "B", "text": "adverse impact on majority applicants."}, {"letter": "C", "text": "adverse impact on minority applicants."}, {"letter": "D", "text": "adverse impact on both majority and minority applicants."}], "correct_answer": "C"}, {"number": 158, "question": "A child receives a Performance IQ score that is higher than her Verbal IQ score on the WISC-III. When interpreting this difference, it is important to keep in mind that:", "choices": [{"letter": "A", "text": "the difference is not significant unless it is 20 points or more."}, {"letter": "B", "text": "the difference may be significant if it is 12 points or more."}, {"letter": "C", "text": "the difference may be significant if it is 12 points or more and the scatter on the Performance subtests is less than 9 points and the scatter on the Verbal subtests is less than 7 points."}, {"letter": "D", "text": "the difference may be significant if it is 18 points or more and the scatter on the Performance subtests is 9 points or more and the scatter on the Verbal subtests is 7 points or more."}], "correct_answer": "C"}, {"number": 159, "question": "In escape conditioning,", "choices": [{"letter": "A", "text": "an aversive stimulus can be avoided by escaping from it in response to a discriminative stimulus."}, {"letter": "B", "text": "experimental neurosis is usually the result."}, {"letter": "C", "text": "learned helplessness is usually the result."}, {"letter": "D", "text": "the aversive stimulus is unavoidable."}], "correct_answer": "D"}, {"number": 160, "question": "The first step a parent takes in teaching a child to feed the family cat is showing her how to put the cat food into the dish. After mastering that task, she is taught to open a can of cat food and then put it into the dish. The child is then taught to open the pantry door, take out a can of cat food, open it, and put it in the dish. This is an example of:", "choices": [{"letter": "A", "text": "stimulus control training"}, {"letter": "B", "text": "forward chaining"}, {"letter": "C", "text": "backward chaining"}, {"letter": "D", "text": "sequential training"}], "correct_answer": "C"}, {"number": 161, "question": "In addition to improved interpersonal relationships, a primary goal of interpersonal therapy (ITP) is:", "choices": [{"letter": "A", "text": "alleviating or reducing symptoms."}, {"letter": "B", "text": "satisfying needs in responsible ways."}, {"letter": "C", "text": "resolving underlying conflicts."}, {"letter": "D", "text": "living in an authentic, meaningful way."}], "correct_answer": "A"}, {"number": 162, "question": "A baby uses his/her hand to grab a toy and then squeezes it which produces an interesting sound, and this leads to the baby repeating the action. This is an example of what Piaget described as a:", "choices": [{"letter": "A", "text": "primary circular reaction"}, {"letter": "B", "text": "secondary circular reaction"}, {"letter": "C", "text": "tertiary circular reaction"}, {"letter": "D", "text": "reflexive circular reaction"}], "correct_answer": "B"}, {"number": 163, "question": "The basic assumption of Howard Gardner’s theory of intelligence is reflected best in which of the following statements", "choices": [{"letter": "A", "text": "Intelligence is best defined in terms of the ability to deal with abstract concepts."}, {"letter": "B", "text": "Intelligence assessment requires the use of simple quantified measures such as paper-and-pencil tests."}, {"letter": "C", "text": "In assessing intelligence, learning to be an efficient processor of information is more important than genetic factors."}, {"letter": "D", "text": "In assessing intelligence, the society in which a person lives evaluates how intelligent a person is thought to be."}], "correct_answer": "D"}, {"number": 164, "question": "Gregory Herek (1992) ascribes violence against gays and lesbians to:", "choices": [{"letter": "A", "text": "stigmatization."}, {"letter": "B", "text": "bigotry."}, {"letter": "C", "text": "homophobia."}, {"letter": "D", "text": "heterosexism."}], "correct_answer": "D"}, {"number": 165, "question": "The best example of a secondary prevention program is", "choices": [{"letter": "A", "text": "a rehabilitation program."}, {"letter": "B", "text": "crisis intervention."}, {"letter": "C", "text": "a community education program."}, {"letter": "D", "text": "Head Start."}], "correct_answer": "B"}, {"number": 166, "question": "You are using overcorrection to modify a child's misbehavior. If the child refuses to comply with your requests during the procedure, you would most likely use which of the following?", "choices": [{"letter": "A", "text": "participant modeling"}, {"letter": "B", "text": "withdrawal of attention"}, {"letter": "C", "text": "verbal reprimands"}, {"letter": "D", "text": "physical guidance"}], "correct_answer": "D"}, {"number": 167, "question": "Dementia due to Head Trauma", "choices": [{"letter": "A", "text": "is usually progressive in cases of moderate to severe trauma."}, {"letter": "B", "text": "is usually progressive only in cases of repeated head trauma."}, {"letter": "C", "text": "unlike other forms of Dementia, does not usually involve disturbances in executive functions."}, {"letter": "D", "text": "unlike other forms of Dementia, is associated more with deficits in executive functions than with memory impairment."}], "correct_answer": "B"}, {"number": 168, "question": "Children begin to understand the concept of death in the:", "choices": [{"letter": "A", "text": "phallic stage."}, {"letter": "B", "text": "preoperational stage."}, {"letter": "C", "text": "concrete operational stage."}, {"letter": "D", "text": "genital stage."}], "correct_answer": "C"}, {"number": 169, "question": "A psychologist determines clients’ fees based on their current income. This “sliding scale” practice is:", "choices": [{"letter": "A", "text": "explicitly prohibited in the Ethics Code"}, {"letter": "B", "text": "explicitly recommended in the Ethics Code"}, {"letter": "C", "text": "unacceptable but not explicitly mentioned in the Ethics Code."}, {"letter": "D", "text": "acceptable but not explicitly mentioned in the Ethics Code."}], "correct_answer": "D"}, {"number": 170, "question": "Cognitive and behavioral symptoms such as impaired motor coordination, attention and memory, mental retardation, hyperactivity, impulsivity, and poor judgment are characteristic of fetal alcohol syndrome (FAS). The brain areas most likely to be effected by FAS include:", "choices": [{"letter": "A", "text": "brainstem, amygdala, and frontal lobes."}, {"letter": "B", "text": "basal ganglia, hippocampus, and frontal lobes."}, {"letter": "C", "text": "medulla, thalamus, and temporal lobes."}, {"letter": "D", "text": "hypothalamus, thalamus, and parietal lobes."}], "correct_answer": "B"}, {"number": 171, "question": "A self-fulfilling prophecy where subordinates perform better when expected to do so by their superiors is known as:", "choices": [{"letter": "A", "text": "the Barnum effect"}, {"letter": "B", "text": "Unconscious inference"}, {"letter": "C", "text": "Pygmalion effect"}, {"letter": "D", "text": "Tend-and-befriend response"}], "correct_answer": "C"}, {"number": 172, "question": "From the perspective of Lewin's field theory, the focus when studying human behavior should be on", "choices": [{"letter": "A", "text": "the immediate present."}, {"letter": "B", "text": "the past factors that determined the present."}, {"letter": "C", "text": "the past, the present, and the future."}, {"letter": "D", "text": "the past, present, and/or future, depending on the nature of the target problem or behavior."}], "correct_answer": "A"}, {"number": 173, "question": "IPT believes that depression is primarily caused by:", "choices": [{"letter": "A", "text": "Disturbances in early life especially related to attachment"}, {"letter": "B", "text": "Biochemical factors"}, {"letter": "C", "text": "Disturbances in cognitive functioning"}, {"letter": "D", "text": "Faulty cognitions"}], "correct_answer": "A"}, {"number": 174, "question": "A psychologist gets a call on a Friday night from a current patient who says she's feeling so depressed she is really thinking of suicide. The psychologist believes her and advises her to go to the hospital immediately. The psychologist is concerned and calls the next day and finds out that the patient did commit suicide. The psychologist's intervention was", "choices": [{"letter": "A", "text": "unethical, because he should have consulted a psychiatrist before he suggested hospitalization."}, {"letter": "B", "text": "ethical, since he made a referral for appropriate treatment."}, {"letter": "C", "text": "unethical, because he should have been more active in assuring that the patient's needs were met."}, {"letter": "D", "text": "ethical, since he did all that he could on a weekend."}], "correct_answer": "C"}, {"number": 176, "question": "Which of the following best describes the results of longitudinal research investigating the relationship between insecure infant attachment and childhood conduct problems?", "choices": [{"letter": "A", "text": "There is little or no relationship between insecure infant attachment and childhood conduct problems."}, {"letter": "B", "text": "Insecure infant attachment is a good predictor of later childhood conduct problems."}, {"letter": "C", "text": "Current childhood conduct problems are a good predictor of past insecure infant attachment."}, {"letter": "D", "text": "Both insecure infant attachment and childhood conduct problems are good predictors of each other."}], "correct_answer": "B"}, {"number": 177, "question": "Which of the following statements is most reflective of research findings?", "choices": [{"letter": "A", "text": "Both male and female teachers are more likely to criticize boys than girls."}, {"letter": "B", "text": "Male teachers are more likely to criticize boys, while female teachers are more likely to criticize girls."}, {"letter": "C", "text": "Female teachers are more likely to criticize boys, while male teachers are more likely to criticize girls."}, {"letter": "D", "text": "Boys and girls are equally likely to be criticized by both male and female teachers."}], "correct_answer": "A"}, {"number": 178, "question": "An engineering psychologist hired by a company to decrease accidents and improve safety in the organization would most likely focus on:", "choices": [{"letter": "A", "text": "working with employees to ensure that they understand and accept the company's safety policies"}, {"letter": "B", "text": "ensuring that enough information about ways to increase safety is available to employees"}, {"letter": "C", "text": "working with managers to increase their commitment to safety"}, {"letter": "D", "text": "identifying aspects of the work environment that could be modified in order to improve safety"}], "correct_answer": "D"}, {"number": 179, "question": "You are working with a couple in marital therapy and are conducting the initial interview. You realize that although the husband doesn't remember you, the two of you once dated. You should", "choices": [{"letter": "A", "text": "speak to the husband alone, explain the situation and ask him if he feels comfortable with proceeding."}, {"letter": "B", "text": "see the wife in individual therapy only."}, {"letter": "C", "text": "refer the couple to another therapist."}, {"letter": "D", "text": "let the couple know the situation and then proceed with therapy."}], "correct_answer": "C"}, {"number": 180, "question": "To study perception in infants, you present an infant with a sight or sound until he/she stops looking at or turning toward it. The phenomenon you are using to study infant perception is called", "choices": [{"letter": "A", "text": "satiation."}, {"letter": "B", "text": "habituation."}, {"letter": "C", "text": "equilibration."}, {"letter": "D", "text": "adaptation."}], "correct_answer": "B"}, {"number": 181, "question": "You receive a letter from the current therapist of a former client. The therapist wants you to forward a copy of the client's records, and she encloses a signed release from the client. The client still owes you for ten therapy sessions, and you notify the client that you will not release the records until a satisfactory payment arrangement has been made. According to the Ethics Code, this", "choices": [{"letter": "A", "text": "is clearly unethical."}, {"letter": "B", "text": "may be acceptable if the client's records are not \"imminently needed.\""}, {"letter": "C", "text": "may be acceptable if you had informed the client of your policy when he began treatment."}, {"letter": "D", "text": "may be acceptable if you previously attempted to collect the fees and the client was uncooperative."}], "correct_answer": "B"}, {"number": 182, "question": "On which of the following dimensions does object relations psychotherapy differ most distinctly from traditional psychoanalytic therapy?", "choices": [{"letter": "A", "text": "interpretation of transference and resistance"}, {"letter": "B", "text": "focus on maladaptive cognitions"}, {"letter": "C", "text": "focus on authenticity of the patient's mode of being-in-the-world"}, {"letter": "D", "text": "emotional neutrality or non-neutrality of the therapist"}], "correct_answer": "D"}, {"number": 183, "question": "Your new patient is a 20-year-old gang member who informs you that he has killed a couple of people in the past and that he will probably kill others in the future. He states that he has no intentions of leaving the gang but wants help dealing with his cocaine addiction. You should:", "choices": [{"letter": "A", "text": "notify the police of the patient's previous murders"}, {"letter": "B", "text": "notify the police of the patient's danger to others"}, {"letter": "C", "text": "provide the patient with substance abuse treatment"}, {"letter": "D", "text": "refuse to provide treatment for this patient unless he agrees to leave the gang"}], "correct_answer": "C"}, {"number": 184, "question": "The \"fight or flight\" response is equivalent to which stage in Selye's General Adaptation Syndrome?", "choices": [{"letter": "A", "text": "Alarm"}, {"letter": "B", "text": "Resistance"}, {"letter": "C", "text": "Exhaustion"}, {"letter": "D", "text": "Hypervigilance"}], "correct_answer": "A"}, {"number": 185, "question": "A child with Attention Deficit-Hyperactivity Disorder will most likely", "choices": [{"letter": "A", "text": "be dyslexic and display delays in achieving linguistic milestones."}, {"letter": "B", "text": "have difficulties in receptive but not expressive language."}, {"letter": "C", "text": "be unable to attend to tasks even when the tasks are interesting."}, {"letter": "D", "text": "have difficulty selecting, controlling, and applying problem solving strategies."}], "correct_answer": "D"}, {"number": 195, "question": "Positive and negative life events are likely to have which of the following types of effect on a person's sense of satisfaction and well-being?", "choices": [{"letter": "A", "text": "neither short-term nor long-term effects"}, {"letter": "B", "text": "short-term but not long-term effects"}, {"letter": "C", "text": "long-term but not short-term effects"}, {"letter": "D", "text": "both short-term and long-term effects"}], "correct_answer": "B"}, {"number": 196, "question": "A mother disciplines a child who had a tantrum and threw the pieces of a board game all over the floor first by making the child pick up the all components of the game and carefully placing them back into the box into the exact place they belong. Then while physically guiding him, she has him take out another board game and carefully set up the game in the correct manner. The behavioral technique the mother has used is", "choices": [{"letter": "A", "text": "negative reinforcement."}, {"letter": "B", "text": "differential reinforcement for other behaviors."}, {"letter": "C", "text": "shaping."}, {"letter": "D", "text": "overcorrection."}], "correct_answer": "D"}, {"number": 197, "question": "Which of the following have NOT been associated with higher levels of sexual prejudice according to findings on heterosexuals’ attitudes toward gays and lesbians?", "choices": [{"letter": "A", "text": "younger age"}, {"letter": "B", "text": "male gender"}, {"letter": "C", "text": "authoritarianism"}, {"letter": "D", "text": "fundamentalist religious views"}], "correct_answer": "A"}, {"number": 198, "question": "If one were to apply the confluence model to predict the intellectual and achievement scores of children, the most accurate prediction would be that", "choices": [{"letter": "A", "text": "middle children would show the highest score when compared to both earlier and later born children."}, {"letter": "B", "text": "children from small families would score the highest."}, {"letter": "C", "text": "only-borns would be the highest scoring group."}, {"letter": "D", "text": "later borns would be the highest scoring group."}], "correct_answer": "C"}, {"number": 199, "question": "An example of a \"negative symptom\" of schizophrenia is:", "choices": [{"letter": "A", "text": "poor emotional expression."}, {"letter": "B", "text": "thought disorder."}, {"letter": "C", "text": "delusions."}, {"letter": "D", "text": "hallucinations."}], "correct_answer": "A"}, {"number": 200, "question": "The purpose of State Licensing Boards is primarily to", "choices": [{"letter": "A", "text": "educate the public."}, {"letter": "B", "text": "educate the profession."}, {"letter": "C", "text": "protect the public."}, {"letter": "D", "text": "set minimum standards of practice."}], "correct_answer": "C"}, {"number": 201, "question": "The most effective intervention for cigarette smoking involves the use of nicotine replacement therapy, skills training and", "choices": [{"letter": "A", "text": "social support."}, {"letter": "B", "text": "stimulus control."}, {"letter": "C", "text": "self-help manuals."}, {"letter": "D", "text": "relaxation training."}], "correct_answer": "A"}, {"number": 202, "question": "Echolalia is not a common symptom of:", "choices": [{"letter": "A", "text": "Autism"}, {"letter": "B", "text": "Schizophrenia"}, {"letter": "C", "text": "Tourette's Syndrome"}, {"letter": "D", "text": "ADHD"}], "correct_answer": "D"}, {"number": 203, "question": "Sibling relationships during preadolescence are most likely to be characterized by:", "choices": [{"letter": "A", "text": "competitiveness and cooperation."}, {"letter": "B", "text": "detachment and distance."}, {"letter": "C", "text": "closeness and conflict."}, {"letter": "D", "text": "hostility and conflict."}], "correct_answer": "C"}, {"number": 204, "question": "MRI or other brain imaging techniques can detect Huntington’s brain degeneration:", "choices": [{"letter": "A", "text": "before the person exhibits symptoms"}, {"letter": "B", "text": "as the person begins to exhibit symptoms"}, {"letter": "C", "text": "in late stage disease development"}, {"letter": "D", "text": "with limited accuracy regardless of stage of disease development"}], "correct_answer": "A"}, {"number": 205, "question": "You have been court ordered to complete an evaluation. As you start the evaluation, the client begins sharing information that she obviously would not want shared further. You should:", "choices": [{"letter": "A", "text": "Say nothing and remain objective"}, {"letter": "B", "text": "Refer her to a different psychologist"}, {"letter": "C", "text": "Advise her that the information she is giving you is not pertinent"}, {"letter": "D", "text": "Reexplain the limits of confidentiality before proceeding"}], "correct_answer": "D"}, {"number": 206, "question": "A research study using an ABAB design involves the following elements in sequence:", "choices": [{"letter": "A", "text": "treatment, baseline, treatment, baseline"}, {"letter": "B", "text": "baseline, treatment, baseline, treatment"}, {"letter": "C", "text": "baseline, intervention in setting A, baseline, intervention in setting B"}, {"letter": "D", "text": "baseline for group A, treatment for group A, baseline for group B, treatment for group B"}], "correct_answer": "B"}, {"number": 207, "question": "For the treatment of Bulimia Nervosa, medications that ____________ would be most effective.", "choices": [{"letter": "A", "text": "decrease glutamate levels"}, {"letter": "B", "text": "increase glutamate levels"}, {"letter": "C", "text": "decrease serotonin levels"}, {"letter": "D", "text": "increase serotonin levels"}], "correct_answer": "D"}, {"number": 208, "question": "In the aversive counterconditioning of a fetish, the fetish object is the:", "choices": [{"letter": "A", "text": "unconditioned response"}, {"letter": "B", "text": "unconditioned stimulus"}, {"letter": "C", "text": "conditioned response"}, {"letter": "D", "text": "conditioned stimulus"}], "correct_answer": "D"}, {"number": 209, "question": "Which of the following is not used as a treatment for smoking cessation?", "choices": [{"letter": "A", "text": "bupropion"}, {"letter": "B", "text": "varenicline"}, {"letter": "C", "text": "nicotine replacement"}, {"letter": "D", "text": "naltrexone"}], "correct_answer": "D"}, {"number": 210, "question": "A predictor with a criterion-related validity coefficient of .40 will be most useful when there is a", "choices": [{"letter": "A", "text": "high selection ratio and moderate base rate."}, {"letter": "B", "text": "high selection ratio and low base rate."}, {"letter": "C", "text": "low selection ratio and moderate base rate."}, {"letter": "D", "text": "low selection ratio and low base rate."}], "correct_answer": "C"}, {"number": 211, "question": "George Kelly emphasized that:", "choices": [{"letter": "A", "text": "people view the world through cognitive schemas"}, {"letter": "B", "text": "individuals progress from infantile dependency to mature interdependency"}, {"letter": "C", "text": "psychopathology is caused by past traumatic events"}, {"letter": "D", "text": "psychopathology is caused by a maladaptive \"style of life\""}], "correct_answer": "A"}, {"number": 212, "question": "When constructing an achievement test, which of the following would be useful for comparing total test scores of a sample of examinees to the proportion of examinees who answer each item correctly?", "choices": [{"letter": "A", "text": "classical test theory"}, {"letter": "B", "text": "item response theory"}, {"letter": "C", "text": "generalizability theory"}, {"letter": "D", "text": "item utility theory"}], "correct_answer": "B"}, {"number": 213, "question": "Lewin's classic study on leadership styles produced which of the following findings?", "choices": [{"letter": "A", "text": "Democratic groups produce a higher quantity of work than either autocratic or laissez-faire groups."}, {"letter": "B", "text": "In autocratic groups, the leader's absence does not affect the quality or quantity of work."}, {"letter": "C", "text": "The success of all three leadership styles studied--democratic, autocratic, and laissez-faire--depended on the personality of group members."}, {"letter": "D", "text": "Laissez-faire was the least successful leadership style in terms of both quantity and quality of work output."}], "correct_answer": "D"}, {"number": 214, "question": "Negative reinforcement is essential to:", "choices": [{"letter": "A", "text": "escape conditioning."}, {"letter": "B", "text": "punishment."}, {"letter": "C", "text": "aversion conditioning."}, {"letter": "D", "text": "phobias."}], "correct_answer": "A"}, {"number": 215, "question": "Each of the following statements about SSRI discontinuation syndrome are true EXCEPT:", "choices": [{"letter": "A", "text": "Discontinuation symptoms have a typical onset of 1 to 3 days after use of the antidepressant is stopped and can be relieved within 24 hours by restarting anti-depressant therapy."}, {"letter": "B", "text": "The symptoms can be mistaken for physical illness or relapse into the treated illness, thereby promoting unnecessary long-term treatment."}, {"letter": "C", "text": "Discontinuation symptoms are more likely to occur in patients who take an SSRI with a shorter half-life than in patients taking an SSRI with a longer half-life."}, {"letter": "D", "text": "Discontinuation symptoms are more likely to occur in patients who take an SSRI with a longer half-life than in patients taking an SSRI with a shorter half-life."}], "correct_answer": "D"}];
        
        // Exam state
        let currentQuestion = 0;
        let userAnswers = {};
        let markedQuestions = new Set();
        let timeRemaining = 123 * 60; // in seconds
        let timerInterval;
        let examSubmitted = false;
        
        // Initialize exam
        function initExam() {
            createNavigator();
            displayQuestion(0);
            startTimer();
        }
        
        // Timer functions
        function startTimer() {
            timerInterval = setInterval(() => {
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    autoSubmit();
                    return;
                }
                
                timeRemaining--;
                updateTimerDisplay();
                
                // Warnings
                if (timeRemaining === 300) { // 5 minutes
                    showTimeWarning('5 minutes remaining!');
                }
                if (timeRemaining === 60) { // 1 minute
                    showTimeWarning('1 minute remaining!');
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(timeRemaining / 3600);
            const minutes = Math.floor((timeRemaining % 3600) / 60);
            const seconds = timeRemaining % 60;
            
            const display = hours > 0 
                ? `${hours}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`
                : `${minutes}:${String(seconds).padStart(2, '0')}`;
            
            const timer = document.getElementById('timer');
            timer.textContent = display;
            
            if (timeRemaining <= 300) { // Last 5 minutes
                timer.classList.add('warning');
            }
        }
        
        function showTimeWarning(message) {
            document.getElementById('timeWarningText').textContent = message;
            document.getElementById('timeWarningModal').classList.add('active');
        }
        
        function closeTimeWarning() {
            document.getElementById('timeWarningModal').classList.remove('active');
        }
        
        // Question navigator
        function createNavigator() {
            const navGrid = document.getElementById('navGrid');
            questions.forEach((q, index) => {
                const btn = document.createElement('button');
                btn.className = 'nav-btn';
                btn.textContent = index + 1;
                btn.onclick = () => displayQuestion(index);
                btn.id = `nav-${index}`;
                navGrid.appendChild(btn);
            });
        }
        
        function updateNavigator() {
            questions.forEach((q, index) => {
                const btn = document.getElementById(`nav-${index}`);
                btn.classList.remove('answered', 'marked', 'current');
                
                if (index === currentQuestion) {
                    btn.classList.add('current');
                }
                if (userAnswers[index] !== undefined) {
                    btn.classList.add('answered');
                }
                if (markedQuestions.has(index)) {
                    btn.classList.add('marked');
                }
            });
        }
        
        // Display question
        function displayQuestion(index) {
            if (examSubmitted) return;
            
            currentQuestion = index;
            const q = questions[index];
            
            document.getElementById('questionNumber').textContent = 
                `Question ${index + 1} of ${questions.length}`;
            document.getElementById('questionText').textContent = q.question;
            
            // Update mark button
            const markBtn = document.getElementById('markBtn');
            if (markedQuestions.has(index)) {
                markBtn.textContent = '⭐ Marked';
                markBtn.classList.add('marked');
            } else {
                markBtn.textContent = '⭐ Mark for Review';
                markBtn.classList.remove('marked');
            }
            
            // Display choices
            const container = document.getElementById('choicesContainer');
            container.innerHTML = '';
            
            q.choices.forEach(choice => {
                const div = document.createElement('div');
                div.className = 'choice';
                if (userAnswers[index] === choice.letter) {
                    div.classList.add('selected');
                }
                
                div.onclick = () => selectAnswer(index, choice.letter, div);
                
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = `q${index}`;
                radio.value = choice.letter;
                radio.id = `q${index}${choice.letter}`;
                radio.checked = userAnswers[index] === choice.letter;
                
                const label = document.createElement('label');
                label.htmlFor = radio.id;
                label.innerHTML = `<strong>${choice.letter}.</strong> ${choice.text}`;
                
                div.appendChild(radio);
                div.appendChild(label);
                container.appendChild(div);
            });
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').textContent = 
                index === questions.length - 1 ? 'Review Answers' : 'Next →';
            
            updateNavigator();
        }
        
        function selectAnswer(questionIndex, answer, choiceElement) {
            if (examSubmitted) return;
            
            userAnswers[questionIndex] = answer;
            
            // Update UI
            document.querySelectorAll('.choice').forEach(c => c.classList.remove('selected'));
            choiceElement.classList.add('selected');
            choiceElement.querySelector('input').checked = true;
            
            updateNavigator();
        }
        
        function toggleMark() {
            if (examSubmitted) return;
            
            if (markedQuestions.has(currentQuestion)) {
                markedQuestions.delete(currentQuestion);
            } else {
                markedQuestions.add(currentQuestion);
            }
            
            displayQuestion(currentQuestion);
        }
        
        function previousQuestion() {
            if (currentQuestion > 0) {
                displayQuestion(currentQuestion - 1);
            }
        }
        
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                displayQuestion(currentQuestion + 1);
            } else {
                showReview();
            }
        }
        
        // Review screen
        function showReview() {
            const answeredCount = Object.keys(userAnswers).length;
            const unansweredCount = questions.length - answeredCount;
            const markedCount = markedQuestions.size;
            
            document.getElementById('answeredCount').textContent = answeredCount;
            document.getElementById('unansweredCount').textContent = unansweredCount;
            document.getElementById('markedCount').textContent = markedCount;
            
            // Create review grid
            const reviewGrid = document.getElementById('reviewGrid');
            reviewGrid.innerHTML = '';
            
            questions.forEach((q, index) => {
                const btn = document.createElement('button');
                btn.className = 'nav-btn';
                btn.textContent = index + 1;
                
                if (userAnswers[index] !== undefined) {
                    btn.classList.add('answered');
                }
                if (markedQuestions.has(index)) {
                    btn.classList.add('marked');
                }
                
                btn.onclick = () => {
                    closeReview();
                    displayQuestion(index);
                };
                
                reviewGrid.appendChild(btn);
            });
            
            document.getElementById('examContainer').style.display = 'none';
            document.getElementById('reviewScreen').classList.add('active');
        }
        
        function closeReview() {
            document.getElementById('reviewScreen').classList.remove('active');
            document.getElementById('examContainer').style.display = 'flex';
        }
        
        // Submit exam
        function confirmSubmit() {
            const unansweredCount = questions.length - Object.keys(userAnswers).length;
            const warning = document.getElementById('unansweredWarning');
            
            if (unansweredCount > 0) {
                warning.textContent = `Warning: You have ${unansweredCount} unanswered question(s).`;
                warning.style.color = '#e74c3c';
                warning.style.fontWeight = 'bold';
            } else {
                warning.textContent = 'All questions answered.';
                warning.style.color = '#27ae60';
            }
            
            document.getElementById('confirmModal').classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('confirmModal').classList.remove('active');
        }
        
        function submitExam() {
            closeModal();
            clearInterval(timerInterval);
            examSubmitted = true;
            
            // Calculate results
            let correct = 0;
            let incorrect = 0;
            let unanswered = 0;
            
            const results = questions.map((q, index) => {
                const userAnswer = userAnswers[index];
                const correctAnswer = q.correct_answer;
                
                if (userAnswer === undefined) {
                    unanswered++;
                    return {
                        ...q,
                        userAnswer: 'Not answered',
                        correct: false,
                        status: 'unanswered'
                    };
                }
                
                const isCorrect = userAnswer === correctAnswer;
                if (isCorrect) {
                    correct++;
                } else {
                    incorrect++;
                }
                
                return {
                    ...q,
                    userAnswer,
                    correct: isCorrect,
                    status: isCorrect ? 'correct' : 'incorrect'
                };
            });
            
            showResults(correct, incorrect, unanswered, results);
        }
        
        function autoSubmit() {
            alert('Time is up! Your exam will be submitted automatically.');
            submitExam();
        }
        
        function showResults(correct, incorrect, unanswered, results) {
            const percentage = Math.round((correct / questions.length) * 100);
            
            const resultsHTML = `
                <div class="results-header">
                    <h2>Exam Complete!</h2>
                    <div class="score-display">${percentage}%</div>
                    <p style="font-size: 1.2em;">Your Score: ${correct} / ${questions.length}</p>
                </div>
                
                <div class="results-breakdown">
                    <h3 style="margin-bottom: 20px; color: #2c3e50;">Results Breakdown</h3>
                    <div class="result-item">
                        <span>Correct Answers</span>
                        <strong style="color: #27ae60;">${correct}</strong>
                    </div>
                    <div class="result-item">
                        <span>Incorrect Answers</span>
                        <strong style="color: #e74c3c;">${incorrect}</strong>
                    </div>
                    <div class="result-item">
                        <span>Unanswered</span>
                        <strong style="color: #95a5a6;">${unanswered}</strong>
                    </div>
                    <div class="result-item">
                        <span>Total Questions</span>
                        <strong>${questions.length}</strong>
                    </div>
                    <div class="result-item" style="border-bottom: none; margin-top: 15px; padding-top: 15px; border-top: 2px solid #2c3e50;">
                        <span style="font-size: 1.2em;">Final Score</span>
                        <strong style="font-size: 1.3em; color: #2c3e50;">${percentage}%</strong>
                    </div>
                </div>
                
                <div class="download-actions">
                    <button onclick="downloadResults(${JSON.stringify(results)}, ${correct}, ${incorrect}, ${unanswered}, ${percentage})">
                        📥 Download Detailed Results
                    </button>
                    <button onclick="location.reload()" style="background: #3498db;">
                        🔄 Take Exam Again
                    </button>
                </div>
            `;
            
            document.getElementById('reviewScreen').classList.remove('active');
            document.getElementById('examContainer').style.display = 'none';
            document.getElementById('resultsScreen').innerHTML = resultsHTML;
            document.getElementById('resultsScreen').classList.add('active');
        }
        
        function downloadResults(results, correct, incorrect, unanswered, percentage) {
            const examTitle = document.querySelector('.exam-title').textContent;
            
            let resultsText = examTitle + '\n';
            resultsText += '='.repeat(examTitle.length) + '\n\n';
            resultsText += 'EXAM RESULTS\n\n';
            resultsText += 'Final Score: ' + percentage + '%\n';
            resultsText += 'Correct: ' + correct + ' / ' + results.length + '\n';
            resultsText += 'Incorrect: ' + incorrect + '\n';
            resultsText += 'Unanswered: ' + unanswered + '\n';
            resultsText += '\nCompleted: ' + new Date().toLocaleString() + '\n';
            resultsText += '\n' + '='.repeat(70) + '\n\n';
            resultsText += 'DETAILED RESULTS\n\n';
            
            results.forEach((q, index) => {
                resultsText += 'Question ' + (index + 1) + ':\n';
                resultsText += q.question + '\n\n';
                resultsText += 'Your Answer: ' + q.userAnswer + '\n';
                resultsText += 'Correct Answer: ' + q.correct_answer + '\n';
                resultsText += 'Status: ' + (q.status === 'correct' ? '✓ CORRECT' : (q.status === 'unanswered' ? '⚠️ NOT ANSWERED' : '✗ INCORRECT')) + '\n';
                resultsText += '-'.repeat(70) + '\n\n';
            });
            
            const blob = new Blob([resultsText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = examTitle.replace(/\s+/g, '_') + '_Results_' + Date.now() + '.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
        
        // Start exam on load
        window.onload = initExam;
        
        // Prevent accidental page close
        window.onbeforeunload = function(e) {
            if (!examSubmitted) {
                e.preventDefault();
                e.returnValue = 'Your exam progress will be lost. Are you sure you want to leave?';
                return e.returnValue;
            }
        };
    </script>

    <!-- User Identification Modal -->
    <div class="modal-overlay" id="userModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Welcome! 👋</h2>
            </div>
            <p style="color: #7f8c8d; margin-bottom: 20px;">
                Enter your name to track your progress across all tests and attempts.
            </p>
            <form class="user-form" onsubmit="saveUserInfo(event)">
                <input 
                    type="text" 
                    id="userNameInput" 
                    placeholder="Enter your full name" 
                    required 
                    minlength="2"
                    autocomplete="name"
                >
                <input 
                    type="email" 
                    id="userEmailInput" 
                    placeholder="Email (optional - for your records)" 
                    autocomplete="email"
                >
                <button type="submit">Start Test</button>
            </form>
            <p style="font-size: 0.85em; color: #95a5a6; margin-top: 15px;">
                ℹ️ Your information is stored only on your device and never shared.
            </p>
        </div>
    </div>
    
    <script>
        // USER_DASHBOARD functionality
        let currentUser = null;
        let currentAttempt = 1;
        
        // Initialize user system on page load
        window.addEventListener('load', function() {
            initializeUser();
        });
        
        function initializeUser() {
            // Get stored user info
            const storedUser = localStorage.getItem('eppp_user');
            
            if (storedUser) {
                currentUser = JSON.parse(storedUser);
                showUserPanel();
                loadAttemptNumber();
            } else {
                // Show user modal
                document.getElementById('userModal').style.display = 'flex';
            }
        }
        
        function saveUserInfo(event) {
            event.preventDefault();
            
            const name = document.getElementById('userNameInput').value.trim();
            const email = document.getElementById('userEmailInput').value.trim();
            
            currentUser = {
                name: name,
                email: email,
                created: new Date().toISOString()
            };
            
            localStorage.setItem('eppp_user', JSON.stringify(currentUser));
            document.getElementById('userModal').style.display = 'none';
            showUserPanel();
            loadAttemptNumber();
        }
        
        function showUserPanel() {
            const panel = document.getElementById('userPanel');
            const avatar = document.getElementById('userAvatar');
            const nameEl = document.getElementById('userName');
            
            if (currentUser) {
                panel.style.display = 'flex';
                avatar.textContent = currentUser.name.charAt(0).toUpperCase();
                nameEl.textContent = currentUser.name;
            }
        }
        
        function loadAttemptNumber() {
            const examTitle = document.querySelector('.exam-title').textContent;
            const historyKey = 'eppp_history_' + currentUser.name.replace(/\s+/g, '_');
            const history = JSON.parse(localStorage.getItem(historyKey) || '[]');
            
            // Count previous attempts for this test
            const attempts = history.filter(h => h.test === examTitle);
            currentAttempt = attempts.length + 1;
            
            document.getElementById('userAttemptInfo').textContent = 
                `Attempt #${currentAttempt} • ${new Date().toLocaleDateString()}`;
        }
        
        function saveAttemptToHistory(score, correct, incorrect, unanswered) {
            if (!currentUser) return;
            
            const examTitle = document.querySelector('.exam-title').textContent;
            const historyKey = 'eppp_history_' + currentUser.name.replace(/\s+/g, '_');
            const history = JSON.parse(localStorage.getItem(historyKey) || '[]');
            
            const attempt = {
                test: examTitle,
                attemptNumber: currentAttempt,
                date: new Date().toISOString(),
                score: score,
                correct: correct,
                incorrect: incorrect,
                unanswered: unanswered,
                totalQuestions: correct + incorrect + unanswered
            };
            
            history.push(attempt);
            localStorage.setItem(historyKey, JSON.stringify(history));
        }
        
        function openDashboard() {
            // Store current location and redirect to dashboard
            sessionStorage.setItem('dashboard_return', window.location.href);
            window.location.href = '../dashboard.html';
        }
        
        function changeUser() {
            if (confirm('Change user? Your current test progress will be lost.')) {
                localStorage.removeItem('eppp_user');
                location.reload();
            }
        }
    </script>
</body>
</html>
